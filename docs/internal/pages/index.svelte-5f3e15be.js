import{S as U,i as q,s as z,e as S,c as E,a as B,d as $,b as K,g as y,n as L,W as $e,p as D,q as d,o as m,l as ee,M as Z,t as R,h as P,L as w,j as J,X as be,Y as ke,Z as ye,_ as we,$ as te,U as Se,K as G,a0 as Q,V as X,k as T,m as A,w as I,x as M,y as V,B as C,a1 as Y,a2 as Ee}from"../chunks/vendor-b66e214f.js";import{a as pe,b as N,g as j,c as Be,E as F,e as Ke,M as H,G as le,d as Ge,w as re}from"../chunks/stores-3cd064d2.js";import{G as x}from"../chunks/Guess-bb209419.js";function ne(a,e,l){const t=a.slice();return t[1]=e[l].id,t[2]=e[l].message,t}function se(a){let e,l=[],t=new Map,n,s=a[0];const o=r=>r[1];for(let r=0;r<s.length;r+=1){let i=ne(a,s,r),u=o(i);t.set(u,l[r]=ae(u,i))}return{c(){e=S("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var i=B(e);for(let u=0;u<l.length;u+=1)l[u].l(i);i.forEach($),this.h()},h(){K(e,"class","container svelte-1dyffrd")},m(r,i){y(r,e,i);for(let u=0;u<l.length;u+=1)l[u].m(e,null);n=!0},p(r,i){i&1&&(s=r[0],L(),l=$e(l,i,o,1,r,s,t,e,we,ae,null,ne),D())},i(r){if(!n){for(let i=0;i<s.length;i+=1)d(l[i]);n=!0}},o(r){for(let i=0;i<l.length;i+=1)m(l[i]);n=!1},d(r){r&&$(e);for(let i=0;i<l.length;i+=1)l[i].d()}}}function ae(a,e){let l,t=e[2]+"",n,s,o,r;return{key:a,first:null,c(){l=S("div"),n=R(t),this.h()},l(i){l=E(i,"DIV",{class:!0});var u=B(l);n=P(u,t),u.forEach($),this.h()},h(){K(l,"class","message svelte-1dyffrd"),this.first=l},m(i,u){y(i,l,u),w(l,n),r=!0},p(i,u){e=i,(!r||u&1)&&t!==(t=e[2]+"")&&J(n,t)},i(i){r||(be(()=>{o&&o.end(1),s=ke(l,te,{duration:500}),s.start()}),r=!0)},o(i){s&&s.invalidate(),o=ye(l,te,{duration:1e3}),r=!1},d(i){i&&$(l),i&&o&&o.end()}}}function Le(a){let e,l,t=a[0].length>0&&se(a);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,s){t&&t.m(n,s),y(n,e,s),l=!0},p(n,[s]){n[0].length>0?t?(t.p(n,s),s&1&&d(t,1)):(t=se(n),t.c(),d(t,1),t.m(e.parentNode,e)):t&&(L(),m(t,1,1,()=>{t=null}),D())},i(n){l||(d(t),l=!0)},o(n){m(t),l=!1},d(n){t&&t.d(n),n&&$(e)}}}function De(a,e,l){let t;return Z(a,pe,n=>l(0,t=n)),[t]}class Ie extends U{constructor(e){super();q(this,e,De,Le,z,{})}}const ve=a=>{N(Se(j))&&(a.length===1&&"a"<=a&&a<="z"?j.addLetter(a):a==="enter"?Be():(a==="backspace"||a==="delete")&&j.removeLetter())};function Me(a){let e,l,t,n;return{c(){e=S("button"),l=R(a[0]),this.h()},l(s){e=E(s,"BUTTON",{class:!0});var o=B(e);l=P(o,a[0]),o.forEach($),this.h()},h(){K(e,"class","svelte-13j43bv"),G(e,"wideButton",a[4]),G(e,"match",a[3]),G(e,"misplaced",a[2]),G(e,"absent",a[1])},m(s,o){y(s,e,o),w(e,l),t||(n=Q(e,"click",a[5]),t=!0)},p(s,[o]){o&1&&J(l,s[0]),o&16&&G(e,"wideButton",s[4]),o&8&&G(e,"match",s[3]),o&4&&G(e,"misplaced",s[2]),o&2&&G(e,"absent",s[1])},i:X,o:X,d(s){s&&$(e),t=!1,n()}}}function Ve(a,e,l){let t,n,s,o,{letter:r}=e,{evaluation:i=""}=e,u=r;const p=()=>ve(r);return a.$$set=h=>{"letter"in h&&l(6,r=h.letter),"evaluation"in h&&l(7,i=h.evaluation)},a.$$.update=()=>{a.$$.dirty&64&&l(4,t=r==="enter"||r==="delete"),a.$$.dirty&128&&l(3,n=i===F.CORRECT),a.$$.dirty&128&&l(2,s=i===F.MISPLACED),a.$$.dirty&128&&l(1,o=i===F.ABSENT),a.$$.dirty&64&&(r==="enter"?l(0,u="\u23CE"):r==="delete"?l(0,u="\u232B"):l(0,u=r))},[u,o,s,n,t,p,r,i]}class Ce extends U{constructor(e){super();q(this,e,Ve,Me,z,{letter:6,evaluation:7})}}function ie(a,e,l){const t=a.slice();return t[3]=e[l],t}function oe(a,e,l){const t=a.slice();return t[6]=e[l],t}function ue(a){let e,l;return e=new Ce({props:{letter:a[6],evaluation:a[0][a[6]]}}),{c(){I(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.evaluation=t[0][t[6]]),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function fe(a){let e,l,t,n=a[3],s=[];for(let r=0;r<n.length;r+=1)s[r]=ue(oe(a,n,r));const o=r=>m(s[r],1,1,()=>{s[r]=null});return{c(){e=S("div");for(let r=0;r<s.length;r+=1)s[r].c();l=T(),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=B(e);for(let u=0;u<s.length;u+=1)s[u].l(i);l=A(i),i.forEach($),this.h()},h(){K(e,"class","keyboard-row svelte-1gvju2s")},m(r,i){y(r,e,i);for(let u=0;u<s.length;u+=1)s[u].m(e,null);w(e,l),t=!0},p(r,i){if(i&3){n=r[3];let u;for(u=0;u<n.length;u+=1){const p=oe(r,n,u);s[u]?(s[u].p(p,i),d(s[u],1)):(s[u]=ue(p),s[u].c(),d(s[u],1),s[u].m(e,l))}for(L(),u=n.length;u<s.length;u+=1)o(u);D()}},i(r){if(!t){for(let i=0;i<n.length;i+=1)d(s[i]);t=!0}},o(r){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)m(s[i]);t=!1},d(r){r&&$(e),Y(s,r)}}}function Te(a){let e,l,t=a[1],n=[];for(let o=0;o<t.length;o+=1)n[o]=fe(ie(a,t,o));const s=o=>m(n[o],1,1,()=>{n[o]=null});return{c(){e=S("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=E(o,"DIV",{class:!0});var r=B(e);for(let i=0;i<n.length;i+=1)n[i].l(r);r.forEach($),this.h()},h(){K(e,"class","keyboard svelte-1gvju2s")},m(o,r){y(o,e,r);for(let i=0;i<n.length;i+=1)n[i].m(e,null);l=!0},p(o,[r]){if(r&3){t=o[1];let i;for(i=0;i<t.length;i+=1){const u=ie(o,t,i);n[i]?(n[i].p(u,r),d(n[i],1)):(n[i]=fe(u),n[i].c(),d(n[i],1),n[i].m(e,null))}for(L(),i=t.length;i<n.length;i+=1)s(i);D()}},i(o){if(!l){for(let r=0;r<t.length;r+=1)d(n[r]);l=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)m(n[r]);l=!1},d(o){o&&$(e),Y(n,o)}}}function Ae(a,e,l){let t,n;Z(a,j,o=>l(2,n=o));const s=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["delete","z","x","c","v","b","n","m","enter"]];return a.$$.update=()=>{a.$$.dirty&4&&l(0,t=n.guesses.reduce((o,r,i)=>(r.split("").forEach((u,p)=>{const h=n.evaluations[i][p];o[u]=Ke(h,o[u])}),o),{}))},[t,s,n]}class je extends U{constructor(e){super();q(this,e,Ae,Te,z,{})}}function ce(a,e,l){const t=a.slice();return t[3]=e[l],t}function he(a,e,l){const t=a.slice();return t[3]=e[l],t[7]=l,t}function _e(a){let e,l;return e=new x({props:{guess:a[3],evaluation:a[0].evaluations[a[7]],submitted:!0}}),{c(){I(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.guess=t[3]),n&1&&(s.evaluation=t[0].evaluations[t[7]]),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function ge(a){let e,l;return e=new x({props:{guess:a[0].currentGuess}}),{c(){I(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,n){const s={};n&1&&(s.guess=t[0].currentGuess),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function de(a){let e,l;return e=new x({props:{guess:a[3],disabled:!0}}),{c(){I(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,n){V(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.guess=t[3]),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function Ne(a){let e,l,t=a[0].guesses.length<H&&N(a[0]),n,s,o=a[0].guesses,r=[];for(let c=0;c<o.length;c+=1)r[c]=_e(he(a,o,c));const i=c=>m(r[c],1,1,()=>{r[c]=null});let u=t&&ge(a),p=a[1],h=[];for(let c=0;c<p.length;c+=1)h[c]=de(ce(a,p,c));const O=c=>m(h[c],1,1,()=>{h[c]=null});return{c(){e=S("div");for(let c=0;c<r.length;c+=1)r[c].c();l=T(),u&&u.c(),n=T();for(let c=0;c<h.length;c+=1)h[c].c();this.h()},l(c){e=E(c,"DIV",{class:!0});var _=B(e);for(let f=0;f<r.length;f+=1)r[f].l(_);l=A(_),u&&u.l(_),n=A(_);for(let f=0;f<h.length;f+=1)h[f].l(_);_.forEach($),this.h()},h(){K(e,"class","game-board")},m(c,_){y(c,e,_);for(let f=0;f<r.length;f+=1)r[f].m(e,null);w(e,l),u&&u.m(e,null),w(e,n);for(let f=0;f<h.length;f+=1)h[f].m(e,null);s=!0},p(c,[_]){if(_&1){o=c[0].guesses;let f;for(f=0;f<o.length;f+=1){const v=he(c,o,f);r[f]?(r[f].p(v,_),d(r[f],1)):(r[f]=_e(v),r[f].c(),d(r[f],1),r[f].m(e,l))}for(L(),f=o.length;f<r.length;f+=1)i(f);D()}if(_&1&&(t=c[0].guesses.length<H&&N(c[0])),t?u?(u.p(c,_),_&1&&d(u,1)):(u=ge(c),u.c(),d(u,1),u.m(e,n)):u&&(L(),m(u,1,1,()=>{u=null}),D()),_&2){p=c[1];let f;for(f=0;f<p.length;f+=1){const v=ce(c,p,f);h[f]?(h[f].p(v,_),d(h[f],1)):(h[f]=de(v),h[f].c(),d(h[f],1),h[f].m(e,null))}for(L(),f=p.length;f<h.length;f+=1)O(f);D()}},i(c){if(!s){for(let _=0;_<o.length;_+=1)d(r[_]);d(u);for(let _=0;_<p.length;_+=1)d(h[_]);s=!0}},o(c){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)m(r[_]);m(u),h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)m(h[_]);s=!1},d(c){c&&$(e),Y(r,c),u&&u.d(),Y(h,c)}}}function Oe(a,e,l){let t,n,s;return Z(a,j,o=>l(0,s=o)),a.$$.update=()=>{a.$$.dirty&1&&l(2,t=N(s)?1:0),a.$$.dirty&5&&l(1,n=Array(Math.max(0,H-t-s.guesses.length)).fill(""))},[s,n,t]}class Ue extends U{constructor(e){super();q(this,e,Oe,Ne,z,{})}}function qe(a){let e;return{c(){e=R("Dude, that sucks!")},l(l){e=P(l,"Dude, that sucks!")},m(l,t){y(l,e,t)},p:X,d(l){l&&$(e)}}}function ze(a){let e=re[a[0].guesses.length]+"",l;return{c(){l=R(e)},l(t){l=P(t,e)},m(t,n){y(t,l,n)},p(t,n){n&1&&e!==(e=re[t[0].guesses.length]+"")&&J(l,e)},d(t){t&&$(l)}}}function me(a){let e,l,t,n,s,o;return t=new Ee({props:{size:"1x"}}),{c(){e=S("button"),l=R("Share "),I(t.$$.fragment),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var i=B(e);l=P(i,"Share "),M(t.$$.fragment,i),i.forEach($),this.h()},h(){K(e,"class","svelte-by3n59")},m(r,i){y(r,e,i),w(e,l),V(t,e,null),n=!0,s||(o=Q(e,"click",a[2]),s=!0)},p:X,i(r){n||(d(t.$$.fragment,r),n=!0)},o(r){m(t.$$.fragment,r),n=!1},d(r){r&&$(e),C(t),s=!1,o()}}}function Re(a){let e,l,t,n,s,o,r,i=!N(a[0]),u,p,h,O,c;e=new Ie({}),t=new Ue({});function _(g,k){if(g[0].status===le.WIN)return ze;if(g[0].status===le.LOSS)return qe}let f=_(a),v=f&&f(a),b=i&&me(a);return p=new je({}),{c(){I(e.$$.fragment),l=T(),I(t.$$.fragment),n=T(),s=S("div"),o=S("div"),v&&v.c(),r=T(),b&&b.c(),u=T(),I(p.$$.fragment),this.h()},l(g){M(e.$$.fragment,g),l=A(g),M(t.$$.fragment,g),n=A(g),s=E(g,"DIV",{class:!0});var k=B(s);o=E(k,"DIV",{class:!0});var W=B(o);v&&v.l(W),r=A(W),b&&b.l(W),W.forEach($),u=A(k),M(p.$$.fragment,k),k.forEach($),this.h()},h(){K(o,"class","game-status svelte-by3n59"),K(s,"class","bottom-section")},m(g,k){V(e,g,k),y(g,l,k),V(t,g,k),y(g,n,k),y(g,s,k),w(s,o),v&&v.m(o,null),w(o,r),b&&b.m(o,null),w(s,u),V(p,s,null),h=!0,O||(c=Q(window,"keydown",a[1]),O=!0)},p(g,[k]){f===(f=_(g))&&v?v.p(g,k):(v&&v.d(1),v=f&&f(g),v&&(v.c(),v.m(o,r))),k&1&&(i=!N(g[0])),i?b?(b.p(g,k),k&1&&d(b,1)):(b=me(g),b.c(),d(b,1),b.m(o,null)):b&&(L(),m(b,1,1,()=>{b=null}),D())},i(g){h||(d(e.$$.fragment,g),d(t.$$.fragment,g),d(b),d(p.$$.fragment,g),h=!0)},o(g){m(e.$$.fragment,g),m(t.$$.fragment,g),m(b),m(p.$$.fragment,g),h=!1},d(g){C(e,g),g&&$(l),C(t,g),g&&$(n),g&&$(s),v&&v.d(),b&&b.d(),C(p),O=!1,c()}}}function Pe(a,e,l){let t;return Z(a,j,o=>l(0,t=o)),[t,o=>{const r=o.key.toLowerCase();!o.ctrlKey&&!o.metaKey&&!o.altKey&&ve(r)},async()=>{const o={text:Ge(t)};navigator&&navigator.share?await navigator.share(o):navigator&&navigator.clipboard&&(await navigator.clipboard.writeText(o.text),pe.add("Copied to clipboard."))}]}class Ze extends U{constructor(e){super();q(this,e,Pe,Re,z,{})}}export{Ze as default};
